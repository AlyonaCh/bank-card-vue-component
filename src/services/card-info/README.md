# CardInfo.js

CardInfo.js позволяет по номеру карты получить логотип банка и типа, фирменные цвета и прочее. Используйте эти данные, чтобы верстать красивые формы для приёма банковских карт. В базе сейчас 49 самых популярных российских банков.

## Быстрый старт

Импортируйте класс `CardInfo` в свой код и используйте:
```js
import CardInfo from '@/services/card-info';

const cardInfo = new CardInfo('4377730000000000');
console.log('Название банка:', cardInfo.bankName);
// > Название банка: Тинькофф Банк
console.log('Логотип банка:', cardInfo.bankLogo);
// > Логотип банка: /banks-logos/ru-tinkoff.png
```

## Конструктор
```
new CardInfo(number)
new CardInfo(number, options)
```

* **`number`** номер карты, число или строка, в строке допустимы пробелы.
* **`options`** объект с настройками.

## Экземпляр
Если по первым 6 цифрам в номере карты не удалось определить данные о банке, поля bankAlias, bankName, bankNameEn, bankCountry, bankUrl, bankLogoPng, bankLogoSvg, bankLogo, bankLogoStyle, backgroundColor, backgroundColors, backgroundLightness, textColor, backgroundGradient будут иметь значение по умолчанию.

Если по первым цифрам в номере карты не удалось определить данные о типе, поля brandAlias, brandName, brandLogoPng, brandLogoSvg, brandLogo, codeName, codeLength, numberLengths, numberGaps будут иметь значение по умолчанию.

* **`bankAlias`** по умолчанию `null`  
  Короткое название банка на английском, все буквы маленькие, без пробелов. Если банк не определён, значение `null`.
* **`bankName`** по умолчанию `null`  
  Название банка на языке той страны, в которой работает банк.
* **`bankNameEn`** по умолчанию `null`  
  Название банка на английском.
* **`bankCountry`** по умолчанию `null`  
  Код страны в которой работает этот банк. `'ru'` — Россия.
* **`bankUrl`** по умолчанию `null`  
  Ссылка на сайт банка.
* **`bankLogo`** по умолчанию `null`  
  Путь к логотипу банка. Для каждого банка в папке `/banks-logos` есть логотип в формате PNG. Имя файла определяется свойством экземпляра `bankAlias`. Путь к файлу определяется свойством настроек `banksLogosPath`. Пример: для банка «Тинькоф» значение будет `'/banks-logos/ru-tinkoff.png'`.
* **`bankLogoSm`** по умолчанию `null`  
  Путь к логотипу банка в малом варианте. Для каждого банка в папке `/banks-logos` есть логотип в формате PNG. Имя файла определяется свойством экземпляра `bankAlias` и `-sm`. Путь к файлу определяется свойством настроек `banksLogosPath`. Пример: для банка «Тинькоф» значение будет `'/banks-logos/ru-tinkoff-sm.png'`.
 **`bankLogoStyle`** по умолчанию `null`  
  Если логотип преимущественно чёрный, то `"black"`, если белый, то `"white"`, если цветной, то `"colored"`.
* **`backgroundColor`** по умолчанию `'#eeeeee'`  
  Цвет, ассоциирующийся с банком. Если банк не определён, значение будет `'#eeeeee'`.
* **`backgroundColors`** по умолчанию `['#eeeeee', '#dddddd']`  
  Массив цветов ассоциирующихся с банком. Если банк не определён, значение будет `['#eeeeee', '#dddddd']`.
* **`backgroundLightness`** по умолчанию `'light'`  
  Если цвет фона светлый, то значением будет строка `'light'`, иначе `'dark'`.
* **`backgroundGradient`** по умолчанию `linear-gradient(135deg, #eeeeee, #dddddd)`  
  Содержит строку с CSS значением свойства `background`, установив которое, вы получите градиент из цветов указанны в поле `backgroundColors`. Угол можно указать в свойстве настроек `gradientDegrees`.
* **`textColor`** по умолчанию `'#000'`  
  Цвет текста, который хорошо будет виден на фоне указанном в свойстве `backgroundColor`.
* **`brandAlias`** по умолчанию `null`  
  Короткое название типа на английском, все буквы маленькие, без пробелов.
* **`brandName`** по умолчанию `null`  
  Полное название типа.
* **`brandLogo`** по умолчанию `null`  
  Путь к логотипу типа. Для каждого типа в папке `/brands-logos` есть логотип в формате PNG и в трёх стилях: чёрном, белом и цветном. Имя файла определяется свойством экземпляра `brandAlias`. Путь к файлу определяется свойством настроек `brandsLogosPath`. Стиль логотипа определяется свойством настроек `brandLogoPolicy`. Пример: для типа «Visa» значение будет `'/brands-logos/visa-colored.png'`.
* **`codeName`** по умолчанию `null`  
  Название кода на обратной стороне карты (CVC/CID/CVV/CVN).
* **`codeLength`** по умолчанию `null`  
  Ожидаемая длина кода безопасности. Обычно 3, но для карт American Express 4.
* **`numberMask`** по умолчанию `0000 0000 0000 0000000`  
  Маска для номера карты данного типа. Обычно маска 0000 0000 0000 0000, но некоторые типы карт имеют отличную от 16 символов длину номера карты, и пробелы расставляются в других местах. Например, для карт American Express маска будет 0000 000000 00000. Символы в маске могут быть изменены путем изменения настроек `maskDigitSymbol` и `maskDelimiterSymbol`. Используйте свойство `numberMask` для наложения маски на поле ввода номера карты.
* **`numberGaps`** по умолчанию `[4, 8, 12]`  
  Массив с числами, определяющими положение пробелов при создании маски.
* **`numberBlocks`** по умолчанию `[4, 4, 4, 7]`  
  Массив с числами, определяющими количество цифр в каждом блоке маски. Определяется на основании свойства `numberGaps` и максимального числа в `numberLengths`.
* **`numberLengths`** по умолчанию `[12, 13, 14, 15, 16, 17, 18, 19]`  
  Массив с числами, определяющими допустимое количество символов в номере карты.
* **`numberNice`**  
  Номер карты, приведённый к красивому виду. Маска определяется свойством `numberMask`. Пример: 4377730000000000 → 4377 7300 0000 0000, 437773 → 4377 73.
* **`number`**  
  Номер карты в виде строки с удалёнными пробелами. Если в переданном номере карты были какие-либо символы, кроме цифр и пробелов, будет пустая строка.
* **`numberSource`**  
  Номер карты, переданный при создании экземпляра.
* **`options`**  
  Настройки, использованные при создании экземпляра.

## Настройки
Настройки передаются при создании нового экземпляра:
```js
var cardInfo = new CardInfo('4377730000000000', {
  banksLogosPath: '/my/path/to/banks/logos',
  brandsLogosPath: '/my/path/to/brands/logos'
});
```

* **`banksLogosPath`** по умолчанию `'/banks-logos/'`  
  Путь к файлам с логотипами банков.
* **`brandsLogosPath`** по умолчанию `'/brands-logos/'`  
  Путь к файлам с логотипами типов.
* **`brandLogoPolicy`** по умолчанию `'auto'`  
  Эта настройка определяет стиль логотипа типа. Доступные значения: 'black', 'white', 'colored', 'auto', 'mono'.
  * `'colored'`  
    Логотип типа будет цветным
  * `'black'`  
    Логотип типа будет чёрным
  * `'white'`  
    Логотип типа будет белым
  * `'mono'`  
    Логотип типа будет белым, если фон (`backgroundLightness`) тёмный (`'dark'`)
    Логотип типа будет чёрным, если фон (`backgroundLightness`) светлый (`'light'`)
  * `'auto'`  
    Логотип типа будет цветным, если стиль логотипа банка (`bankLogoStyle`) цветной (`'colored'`)
    Логотип типа будет белым, если стиль логотипа банка (`bankLogoStyle`) белый (`'white'`)
    Логотип типа будет чёрным, если стиль логотипа банка (`bankLogoStyle`) чёрный (`'black'`)
    Логотип типа будет цветным, если банк не определён
* **`maskDigitSymbol`** по умолчанию `'#'`  
  Символ, обозначающий цифру в маске номера карты, указанной в свойстве экземпляра `numberMask`.
* **`maskDelimiterSymbol`** по умолчанию `' '`  
  Символ, обозначающий разделитель в маске номера карты, указанной в свойстве экземпляра `numberMask`.
* **`gradientDegrees`** по умолчанию `135`  
  Градус, под которым идёт градиент указанный в свойстве экземпляра `backgroundGradient`.

## Способы подключения
Подключить в качестве модуля в своём коде
```js
const CardInfo = require('@/services/card-info')
// или
import CardInfo from '@/services/card-info'
```
